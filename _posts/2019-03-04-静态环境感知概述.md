---
layout:     post                    # 使用的布局（不需要改）
title:      ROS学习               # 标题 
subtitle:   静态环境感知概述                #副标题
date:       2019/3/4            # 时间
author:     Euraxluo                      # 作者
header-img: img/post-bg-github-cup.jpg  #这篇文章标题背景图片
catalog: true                 # 是否归档
tags:                               #标签
    - ROS

---
# 静态环境感知与分割算法概述
## 广义感知
### 感知外界
#### 目的
- 识别静态物体
- 识别动态物体的位姿
#### 传感器
- 单目：图片->ML,DL,分类，物体检测
- 双目：深度图->SLAM
- 激光雷达：稀疏点云
- 超声波雷达
### 感知自身
#### 目的：
- 感知自身的位姿
#### 传感器
- IMU,HD map,SLAM,gps

## 分割
### 传统的算法（opencv）
#### 边缘检测
Canny 边缘检测

-  原理
Canny 边缘检测是一种非常流行的边缘检测算法，是 John F.Canny 在
1986 年提出的。它是一个有很多步构成的算法，我们接下来会逐步介绍。

-  噪声去除
由于边缘检测很容易受到噪声影响，所以第一步是使用 5x5 的高斯滤波器
去除噪声

-  计算图像梯度
对平滑后的图像使用 Sobel 算子计算水平方向和竖直方向的一阶导数（图
像梯度）（Gx 和 Gy）。根据得到的这两幅梯度图（Gx 和 Gy）找到边界的梯
度和方向，公式如下：
$$
Edge-Gradient(G) =\sqrt{G^2_x + G^2_y}
$$

$$
Angle(θ) = tan^{−1}(\frac{G_x}{G_y})
$$
梯度的方向一般总是与边界垂直。梯度方向被归为四类：垂直，水平，和
两个对角线。

- 非极大值抑制
在获得梯度的方向和大小之后，应该对整幅图像做一个扫描，去除那些非
边界上的点。对每一个像素进行检查，看这个点的梯度是不是周围具有相同梯
度方向的点中最大的。得到的是一个包含“窄边界”的二值图像。

- 滞后阈值
现在要确定那些边界才是真正的边界。这时我们需要设置两个阈值：
minVal 和 maxVal。当图像的灰度梯度高于 maxVal 时被认为是真的边界，
那些低于 minVal 的边界会被抛弃。如果介于两者之间的话，就要看这个点是
否与某个被确定为真正的边界点相连，如果是就认为它也是边界点，如果不是
就抛弃。
在这一步一些小的噪声点也会被除去，因为我们假设边界都是一些长的线
段。

#### 手动分割图像
- 手动指定一个三角形来分割出路面区域，去除其他干扰

#### 霍夫曼变换
- 使用霍夫曼变化（极坐标系下）
可以把直线变换成曲线。通过一系列连续的线段，最终可以得到很多可能的直线（车道线）

#### 叠加到原图
- 使用opencv叠加到原图

### DL
类型： 普通分割（前景与背景），语义分割（猫和狗），实例分割（分割每一个人）
#### 思路：
- 前端
下采样+上采样：Convlution + Deconvlution／Resize
多尺度特征融合：特征逐点相加／特征channel维度拼接
获得像素级别的segement map：对每一个像素点进行判断类别
- 后端
使用CRF条件随机场，MRF马尔科夫随机场，优化（确定一个像素属于谁的几率大）
#### 常用算法
![](/image/DLsplit.png)

[A Survey on DNN based Semantic Segmentation](https://blog.csdn.net/Julialove102123/article/details/80493066)
FCN
U-Net
SeqNet/DeconvNet
DeepLab
PSPNet
Mask rcnn
laneNet
[Towards End-to-End Lane Detection: an Instance Segmentation Approach](https://arxiv.org/abs/1802.05591)

## 检测

## 分类
## 跟踪