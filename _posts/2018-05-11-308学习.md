---
layout:   post          
title:   05-11作业 
date:    2018-05-11      
author:   Euraxluo           
categories: java
tags: 
---
* TOC
{:toc}



#1 利用RandomAccessFile 将信息写入test.txt文件中

+ 代码：

```java

//使用PrintWrite

import java.io.File;

import java.io.IOException;

import java.io.PrintWriter;

public class homework511 {

    public static void main(String[] args) throws IOException {

        //新建一个文件test.txt

        File file = new File("Test.txt");

        Boolean flag = file.createNewFile();

        if(flag)

        {

            System.out.println("创建成功");

        }else {

            System.out.println("文件已存在");

        }

        //信息:

        String text = "期待着-有一天 这个夏末又站在 虚幻的彼岸 对我来说 不过是再征战一番 多期望终有一天 用舞台来证明 属于自己的强悍 " +

                "一年又一年 理想真得好难 我有时悸动 有时坐立不安 就算对生活 有再多的不满 我坚定着理想绝不允许腐烂 " +

                "期待着 有一天我能登临顶端 亲眼看看这世界的浩瀚 我不会就此堕落 就此伤感 也会努力试着冲破黑暗 " +

                "这个夏末又站在 虚幻的彼岸 对我来说 不过是再征战一番 多期望终有一天 用舞台来证明 属于自己的强悍 " +

                "一年又一年 理想真得好难 我有时悸动 有时坐立不安 就算对生活 有再多的不满 我坚定着理想绝不允许腐烂 " +

                "期待着 有一天我能登临顶端 亲眼看看这世界的浩瀚 我不会就此堕落 就此伤感 也会努力试着冲破黑暗 " +

                "期待着 有一天我能不再怅然 患得患失不是我的果敢 我不会就此沉沦 就此悲叹 也会努力将生命都点燃 " +

                "期待着 有一天我能不再动乱 泰然处之这是我的安然 我不会就此沦落 就此茫然 ";

        String []ss = text.split(" ");

        //追加写入

        PrintWriter out = new PrintWriter(new File("Test.txt"));

        for (String s:ss)

            out.write(s+"\r\n");

        //关闭文件

        out.close();

    }

}



```

```java

//使用RandomAccessFile

    public static void main(String[] args) throws IOException {   //打开文件

        File file = new File("Test.txt");

        //打开一个raf对象

        RandomAccessFile raf = new RandomAccessFile(file,"rw");

        //移动指针到文件末尾

        raf.seek(raf.length());

        String newline = "——To:EDG-clearlove原创个人单曲\n";

        byte[] newByte = newline.getBytes("utf8");

        //写入文件末尾

        raf.write(newByte);

        raf.close();

    }

```



#2 InputStream读取文件

+ 代码



```java

import java.io.*;



public class input_out_stream {

    public static void main(String[] args) throws IOException {

        File file = new File("Test.txt");

        InputStream input = new FileInputStream(file);//实例化一个对象

        byte b[]=new byte[(int)file.length()];//创建合适大小的数组

        try {

            input.read(b);//读取内容

        }catch (Exception e){

            throw e;

        }finally {

            input.close();

            System.out.println(new String(b));

        }

    }

}



```





#3 OutputStream在程序中如何将一个字符串写到文件中

+ 代码

```java

import java.io.*;



public class input_out_stream {

    public static void main(String[] args) throws IOException {

        File file = new File("Test.txt");

        OutputStream output = new FileOutputStream(file,true);//追加输出

        //将字符串转化为byte

        String newline = "B站@枯玄君\n";

        byte[] newByte = newline.getBytes("utf8");

        //写入

        try {

            output.write(newByte);//读取内容

        }catch (Exception e){

            throw e;

        }finally {

            output.close();

        }

    }

}

```



#4 BufferedInputStream读入byte数据

+ 代码

```java

import java.io.*;



public class _BufferedInputStream {

    public static void main(String[] args) throws IOException {

        FileInputStream file = new FileInputStream("Test.txt");

        BufferedInputStream bis = new BufferedInputStream(file);

        byte[] buffer = new byte[10240];//定义一个缓冲池

        String inputtext = null;

        int flag = 0;

        try{

        while ((flag=bis.read(buffer))!=-1){//如果缓冲池不为空

            inputtext += new String(buffer,0,flag);

        }

        System.out.println(inputtext);

    }catch (Exception e){

            throw e;

        }finally {

            bis.close();

        }

    }

}

```



#5 将原文件中的内容拷贝到目标文件中

+ 代码





```java

import java.io.*;

public class copyfile {

    public static void main(String[] args) throws IOException {

        FileInputStream fis = new FileInputStream("Test.txt");

        BufferedInputStream bis = new BufferedInputStream(fis);



        FileOutputStream fos = new FileOutputStream("copytest.txt",true);

        BufferedOutputStream bos = new BufferedOutputStream(fos);



        //建立缓冲池

        int size = 0;

        byte[] buffer = new byte[10240];

        try {

            while ((size = bis.read(buffer)) != -1) {

                bos.write(buffer, 0, size);

            }

            bos.flush();//刷新缓冲流

            System.out.println("copy success");

        }catch (Exception e)

        {

            e.printStackTrace();

        }finally {

            bis.close();

            bos.close();

        }

    }

}





```
